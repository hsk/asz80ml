        org '\12'
fuga:   equ 10
abc: equ fuga * "\2"

include "test2.txt"

hoge:   ld a,(ix+(fuga*3))  ; ld a, (ix+30) -> DD 7E 1E
        nop
        ret
        ld a, 0x55
;        ld a, hoge          ; ラベルのアドレス (0x100) の下位バイト
        ld a, abc
if hoge > 0
        ld a, 1
else
        ld a, 0
endif

mmm: macro v
    if v > 0
        ld a,v
        nop
        mmm v-1
    endif
endm
mm1: macro
    ld a,111
endm
        mmm 3
        mm1
        defb 1,2,3,"abc\r\n\t\a\0\8\10\100\0100",'\0'
        defw 0x1234
        incbin 'test3.txt'

        adc a,a
        adc a,b
        adc a,c
        adc a,d
        adc a,e
        adc a,h
        adc a,l
        adc a,(hl)
        adc a,(ix+1)
        adc a,(ix-1)
        adc a,(iy+1)
        adc a,(iy-1)
        adc a,10
        adc hl,bc
        adc hl,de
        adc hl,hl
        adc hl,sp

        add a,a
        add a,b
        add a,c
        add a,d
        add a,e
        add a,h
        add a,l
        add a,(hl)
        add a,(ix+1)
        add a,(ix-1)
        add a,(iy+1)
        add a,(iy-1)
        add a,10
        add hl,bc
        add hl,de
        add hl,hl
        add hl,sp
        add ix,bc
        add ix,de
        add ix,ix
        add ix,sp
        add iy,bc
        add iy,de
        add iy,iy
        add iy,sp
        and a
        and b
        and c
        and d
        and e
        and h
        and l
        and (hl)        
        and (ix+0)
        and (ix-0)
        and (iy+0)
        and (iy-0)
        and 10
        bit 0,a
        bit 0,b
        bit 0,c
        bit 0,d
        bit 0,e
        bit 0,h
        bit 0,l
        bit 0,(hl)
        bit 7,a
        bit 7,b
        bit 7,c
        bit 7,d
        bit 7,e
        bit 7,h
        bit 7,l
        bit 7,(hl)
        bit 0,(ix+0)
        bit 7,(ix+127)
        bit 0,(ix-1)
        bit 7,(ix-127)
        bit 0,(iy+0)
        bit 7,(iy+127)
        bit 0,(iy-1)
        bit 7,(iy-127)
        call 10
        call nz,10
        call z,10
        call nc,10
        call c,10
        call po,10
        call pe,10
        call p,10
        call m,10

        ccf
        cp a
        cp b
        cp c
        cp d
        cp e
        cp h
        cp l
        cp (hl)
        cp (ix+0)
        cp (ix-0)
        cp (iy+0)
        cp (iy-0)
        cp 10
        cpd
        cpdr
        cpi
        cpir
        cpl
        daa
        dec a
        dec b
        dec c
        dec d
        dec e
        dec h
        dec l
        dec (hl)
        dec (ix+0)
        dec (ix-0)
        dec (iy+0)
        dec (iy-0)
        dec bc
        dec de
        dec hl
        dec sp
        dec ix
        dec iy
        di
        djnz 400
        ei

        ex (sp),hl
        ex (sp),ix
        ex (sp),iy
        ex de,hl
        ex af,af'
        exx
        halt
        im 0
        im 1
        im 2

        inc a
        inc b
        inc c
        inc d
        inc e
        inc h
        inc l
        inc (hl)
        inc (ix+0)
        inc (ix-0)
        inc (iy+0)
        inc (iy-0)
        inc bc
        inc de
        inc hl
        inc sp
        inc ix
        inc iy

        in a,(c)
        in b,(c)
        in c,(c)
        in d,(c)
        in e,(c)
        in h,(c)
        in l,(c)
        in a,(1)

        ind
        indr
        ini
        inir

        jp (hl)
        jp (ix)
        jp (iy)
        jp 10
        jp nz,10
        jp z,10
        jp nc,10
        jp c,10
        jp po,10
        jp pe,10
        jp p,10
        jp m,10
        jr 500
        jr nz,500
        jr z,500
        jr nc,500
        jr c,500

        ld a,a
        ld a,b
        ld a,c
        ld a,d
        ld a,e
        ld a,h
        ld a,l
        ld a,(hl)

        ld b,a
        ld b,b
        ld b,c
        ld b,d
        ld b,e
        ld b,h
        ld b,l
        ld b,(hl)

        ld c,a
        ld c,b
        ld c,c
        ld c,d
        ld c,e
        ld c,h
        ld c,l
        ld c,(hl)

        ld d,a
        ld d,b
        ld d,c
        ld d,d
        ld d,e
        ld d,h
        ld d,l
        ld d,(hl)
        ld e,a
        ld e,b
        ld e,c
        ld e,d
        ld e,e
        ld e,h
        ld e,l
        ld e,(hl)

        ld h,a
        ld h,b
        ld h,c
        ld h,d
        ld h,e
        ld h,h
        ld h,l
        ld h,(hl)
        ld l,a
        ld l,b
        ld l,c
        ld l,d
        ld l,e
        ld l,h
        ld l,l
        ld l,(hl)

        ld a,0
        ld b,0
        ld c,0
        ld d,0
        ld e,0
        ld h,0
        ld l,0

        ld a,(ix+1)
        ld b,(ix+1)
        ld c,(ix+1)
        ld d,(ix+1)
        ld e,(ix+1)
        ld h,(ix+1)
        ld l,(ix+1)
        ld a,(ix-1)
        ld b,(ix-1)
        ld c,(ix-1)
        ld d,(ix-1)
        ld e,(ix-1)
        ld h,(ix-1)
        ld l,(ix-1)
        ld a,(iy+1)
        ld b,(iy+1)
        ld c,(iy+1)
        ld d,(iy+1)
        ld e,(iy+1)
        ld h,(iy+1)
        ld l,(iy+1)
        ld a,(iy-1)
        ld b,(iy-1)
        ld c,(iy-1)
        ld d,(iy-1)
        ld e,(iy-1)
        ld h,(iy-1)
        ld l,(iy-1)
        ld a,(bc)
        ld a,(de)
        ld a,(10)
        ld a,i
        ld a,r
        ld i,a
        ld r,a
        ld (bc),a
        ld (de),a
        ld (hl),a
        ld (hl),b
        ld (hl),c
        ld (hl),d
        ld (hl),e
        ld (hl),h
        ld (hl),l
        ld (hl),10
        ld (10),a

        ld (ix+1),a
        ld (ix+1),b
        ld (ix+1),c
        ld (ix+1),d
        ld (ix+1),e
        ld (ix+1),h
        ld (ix+1),l
        ld (ix-1),a
        ld (ix-1),b
        ld (ix-1),c
        ld (ix-1),d
        ld (ix-1),e
        ld (ix-1),h
        ld (ix-1),l
        ld (iy+1),a
        ld (iy+1),b
        ld (iy+1),c
        ld (iy+1),d
        ld (iy+1),e
        ld (iy+1),h
        ld (iy+1),l
        ld (iy-1),a
        ld (iy-1),b
        ld (iy-1),c
        ld (iy-1),d
        ld (iy-1),e
        ld (iy-1),h
        ld (iy-1),l
        ld (ix+1),10
        ld (ix-1),10
        ld (iy+1),10
        ld (iy-1),10
        ld sp,hl
        ld sp,ix
        ld sp,iy
        ld bc, 10
        ld de, 10
        ld hl, 10
        ld sp, 10
        ld hl,(10)
        ld bc,(10)
        ld de,(10)
        ld sp,(10)
        ld ix,10
        ld iy,10
        ld (10),hl
        ld (10),bc
        ld (10),de
        ld (10),sp
        ld (10),ix
        ld (10),iy

        ldd
        lddr
        ldi
        ldir
        neg
        nop

        or a
        or b
        or c
        or d
        or e
        or h
        or l
        or (hl)
        or (ix+1)
        or (ix-1)
        or (iy+1)
        or (iy-1)
        or 10
        out (c),a
        out (c),b
        out (c),c
        out (c),d
        out (c),e
        out (c),h
        out (c),l
        out (10),a
        outd
        otdr
        outi
        otir
        pop af
        pop bc
        pop de
        pop hl
        pop ix
        pop iy
        push af
        push bc
        push de
        push hl
        push ix
        push iy
        res 0,a
        res 0,b
        res 0,c
        res 0,d
        res 0,e
        res 0,h
        res 0,l
        res 0,(hl)
        res 7,a
        res 7,b
        res 7,c
        res 7,d
        res 7,e
        res 7,h
        res 7,l
        res 7,(hl)
        res 0,(ix+1)
        res 0,(ix-1)
        res 0,(iy+1)
        res 0,(iy-1)
        res 7,(ix+1)
        res 7,(ix-1)
        res 7,(iy+1)
        res 7,(iy-1)

        ret
        ret nz
        ret z
        ret nc
        ret c
        ret po
        ret pe
        ret p
        ret m
        reti
        retn
        rla
        rlca
        rra
        rrca
        rl a
        rl b
        rl c
        rl d
        rl e
        rl h
        rl l
        rl (hl)
        rl (ix+1)
        rl (ix-1)
        rl (iy+1)
        rl (iy-1)
        
        rlc a
        rlc b
        rlc c
        rlc d
        rlc e
        rlc h
        rlc l
        rlc (hl)
        rlc (ix+1)
        rlc (ix-1)
        rlc (iy+1)
        rlc (iy-1)

        rr a
        rr b
        rr c
        rr d
        rr e
        rr h
        rr l
        rr (hl)
        rr (ix+1)
        rr (ix-1)
        rr (iy+1)
        rr (iy-1)
        
        rrc a
        rrc b
        rrc c
        rrc d
        rrc e
        rrc h
        rrc l
        rrc (hl)
        rrc (ix+1)
        rrc (ix-1)
        rrc (iy+1)
        rrc (iy-1)

        rld
        rrd
        rst 0
        rst 8
        rst 16
        rst 24
        rst 32
        rst 40
        rst 48
        rst 56

        sbc a,a
        sbc a,b
        sbc a,c
        sbc a,d
        sbc a,e
        sbc a,h
        sbc a,l
        sbc a,(hl)
        sbc a,(ix+1)
        sbc a,(ix-1)
        sbc a,(iy+1)
        sbc a,(iy-1)
        sbc a,10
        sbc hl,bc
        sbc hl,de
        sbc hl,hl
        sbc hl,sp

        scf

        set 0,a
        set 0,b
        set 0,c
        set 0,d
        set 0,e
        set 0,h
        set 0,l
        set 0,(hl)
        set 7,a
        set 7,b
        set 7,c
        set 7,d
        set 7,e
        set 7,h
        set 7,l
        set 7,(hl)
        set 0,(ix+1)
        set 0,(ix-1)
        set 0,(iy+1)
        set 0,(iy-1)
        set 7,(ix+1)
        set 7,(ix-1)
        set 7,(iy+1)
        set 7,(iy-1)

        sla a
        sla b
        sla c
        sla d
        sla e
        sla h
        sla l
        sla (hl)
        sla (ix+1)
        sla (ix-1)
        sla (iy+1)
        sla (iy-1)

        sra a
        sra b
        sra c
        sra d
        sra e
        sra h
        sra l
        sra (hl)
        sra (ix+1)
        sra (ix-1)
        sra (iy+1)
        sra (iy-1)

        srl a
        srl b
        srl c
        srl d
        srl e
        srl h
        srl l
        srl (hl)
        srl (ix+1)
        srl (ix-1)
        srl (iy+1)
        srl (iy-1)

        sub a
        sub b
        sub c
        sub d
        sub e
        sub h
        sub l
        sub (hl)
        sub (ix+1)
        sub (ix-1)
        sub (iy+1)
        sub (iy-1)
        sub 10

        xor a
        xor b
        xor c
        xor d
        xor e
        xor h
        xor l
        xor (hl)
        xor (ix+1)
        xor (ix-1)
        xor (iy+1)
        xor (iy-1)
        xor 10
